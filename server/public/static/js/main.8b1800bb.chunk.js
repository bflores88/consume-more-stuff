(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(302)},115:function(e,t,a){},116:function(e,t,a){},121:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},295:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(46),s=a.n(i),c=(a(115),a(2)),o=a(3),l=a(5),u=a(4),m=a(6),d=a(17),p=(a(116),a(8)),h="REGISTER",g="LOGIN_FAILURE",b="LOGIN_SUCCESS",v="LOGOUT_FAILURE",f="LOGOUT_SUCCESS",E="SEARCH_ITEMS",y="LOAD_ITEMS",O="LOAD_ALL_ACTIVE_ITEMS",j="LOAD_ACTIVE_ITEMS",C="LOAD_INACTIVE_ITEMS",_="LOAD_SPECIFIC_ITEM",N="GRAB_ITEM_IMAGE",S="ADD_ITEM",I="RESET_NEW_ITEM",k="INCREMENT_ITEM_VIEWS",w="LOAD_ITEMS_BY_CATEGORY",U="LOAD_CATEGORIES",D="ADD_CATEGORY",T="ADD_SUBCATEGORY",A="GRAB_USER_THREADS",R="GRAB_THREADS_MESSAGES",P="POST_NEW_MESSAGE",x="GRAB_ALL_USERS",M="GRAB_USERNAME",F="LOAD_SINGLE_USER",L="UPDATE_USER_PASSWORD",B="UPDATE_USER",Y="DEACTIVATE_USER",G="UPDATE_CHOSEN_CATEGORY",q="UPDATE_CHOSEN_SUBCATEGORY",V="GRAB_USER_CART",J="DELETE_ITEM_FROM_CART",H="GRAB_SHIPPING",$="GRAB_PAYMENTS",z="GRAB_SHIPPING_PRIMARY",W="ADMIN_USER_EDIT",Q="ADMIN_ITEM_EDIT",X=function(){return function(e){return fetch("/api/carts").then(function(e){return e.json()}).then(function(t){return e({type:V,payload:t})}).catch(function(e){console.log(e)})}},K=function(){return function(e){return fetch("/api/items/active").then(function(e){return e.json()}).then(function(t){return e({type:O,payload:t})}).catch(function(e){return console.log("Cant access website"+e)})}},Z=function(e){return function(t){return fetch("/api/items/".concat(e)).then(function(e){return e.json()}).then(function(e){return t({type:_,payload:e})}).catch(function(e){console.log(e)})}},ee=function(){return function(e){return fetch("/api/images/items").then(function(e){return e.json()}).then(function(t){return e({type:N,payload:t})}).catch(function(e){return console.log("Cant access website"+e)})}},te=function(e){return function(t){return fetch("/api/items",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return console.log(e),t({type:S,payload:e})}).catch(function(e){console.log("Error in logout: ",e)})}},ae=function(){return function(e){e({type:I,payload:""})}},ne=function(){return function(e){return fetch("/api/auth/logout",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(){return localStorage.removeItem("user"),e({type:f})}).catch(function(t){return e({type:v})})}},re=function(){return function(e){return fetch("/api/categories",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){return e({type:U,payload:t})}).catch(function(e){console.log(e)})}},ie=a(9),se=(a(121),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.id,n=e.price,i=e.image_link,s="/items/".concat(a);return i?r.a.createElement(ie.b,{to:s},r.a.createElement("div",{className:"singleItem"},r.a.createElement("div",{className:"imageBox"},r.a.createElement("img",{src:i,alt:"",className:"itemImage"})),r.a.createElement("div",{className:"itemDescriptionBox"},r.a.createElement("h4",{className:"itemName"},t),r.a.createElement("div",{className:"itemPrice"},"Price: ",n)),r.a.createElement("div",null))):r.a.createElement(ie.b,{to:s},r.a.createElement("div",{className:"singleItem"},r.a.createElement("div",{className:"imageBox"}),r.a.createElement("div",{className:"itemDescriptionBox"},r.a.createElement("h4",{className:"itemName"},t),r.a.createElement("div",{className:"itemPrice"},"Price: ",n)),r.a.createElement("div",null)))}}]),t}(n.Component)),ce=Object(p.b)(function(e){return{}},function(e){return{}})(se),oe=(a(127),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={input:"",items:[{name:"banana"},{name:"kiwi"}]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return this.props.grabItemImages()}},{key:"filterItems",value:function(e,t,a){switch(e){case e:return a.filter(function(e){return e.users.active&&e.inventory>0&&e.approved&&e.category_id===parseInt(t)}).sort(function(e,t){return t.view_count-e.view_count});default:return}}},{key:"filterImages",value:function(e,t){return t.filter(function(t){return t.item_id===e})}},{key:"render",value:function(){var e=this,t=this.filterItems(this.props.label,this.props.labelID,this.props.items),a=t.map(function(t,a){var n;return(n=e.props.images?e.filterImages(t.id,e.props.images):[{image_link:"https://3dexport.com/items/2018/07/11/530458/205933/rigged_cartoon_giraffe_model_3d_model_c4d_max_obj_fbx_ma_lwo_3ds_3dm_stl_2172968_o.jpg"}])[0]?r.a.createElement(ce,{name:t.name,id:t.id,price:t.price,image_link:n[0].image_link}):r.a.createElement(ce,{name:t.name,id:t.id,price:t.price,image_link:"https://3dexport.com/items/2018/07/11/530458/205933/rigged_cartoon_giraffe_model_3d_model_c4d_max_obj_fbx_ma_lwo_3ds_3dm_stl_2172968_o.jpg"})});return t.length?a?r.a.createElement("div",{className:"categoryBox"},r.a.createElement("div",{className:"item-box-title"},r.a.createElement("h3",{className:"title-text"},this.props.label)),r.a.createElement("div",{className:"itemsBox"},a)):r.a.createElement("div",{className:"categoryBox"},r.a.createElement("div",{className:"item-box-title"},r.a.createElement("h3",{className:"title-text"},this.props.label)),r.a.createElement("div",{className:"itemsBox"},r.a.createElement("h2",null,"Currently no items available for this category."))):r.a.createElement(r.a.Fragment,null)}}]),t}(n.Component)),le=Object(p.b)(function(e){return{images:e.itemReducer.images,categories:e.itemReducer.categories}},function(e){return{grabItemImages:function(t){e(ee())}}})(oe),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={title:"test"},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return this.props.loadCategories(),this.props.loadAllActiveItems()}},{key:"checkAllActive",value:function(e){return!0===e.users.active}},{key:"render",value:function(){var e=this.props.categories,t=this.props.items.filter(function(e){return e.users.active&&e.active}),a=e.map(function(e,a){if(e.items.length)e.items.filter(function(e){return e.active});return r.a.createElement(le,{items:t,label:e.category_name,labelID:e.id})});return r.a.createElement("div",{className:"App"},a)}}]),t}(r.a.Component),me=ue=Object(p.b)(function(e){return{items:e.itemReducer.allActiveItems,categories:e.itemReducer.categories}},function(e){return{loadAllActiveItems:function(){return e(K())},loadCategories:function(){return e(re())}}})(ue),de=a(1),pe=(a(128),a(7)),he=(a(129),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={searchTerm:""},a.handleSearchTermChange=a.handleSearchTermChange.bind(Object(pe.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleSearchTermChange",value:function(e){var t=e.target.value;this.setState({searchTerm:t})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.state.searchTerm.length>0&&this.props.searchItems(this.state.searchTerm).then(function(){t.props.history.push("/search-results")})}},{key:"render",value:function(){return r.a.createElement("div",{id:"search-bar-box"},r.a.createElement("form",null,r.a.createElement("input",{type:"text",onChange:this.handleSearchTermChange,placeholder:"Item Name"}),r.a.createElement("button",{onClick:this.handleSubmit},"Submit")))}}]),t}(n.Component));he=Object(p.b)(null,function(e){return{searchItems:function(t){var a=function(e){return function(t){return fetch("/api/items/search/"+e).then(function(e){return e.json()}).then(function(e){return t({type:E,payload:e})}).catch(function(e){return{error:e}})}}(t);return e(a)}}})(he);var ge=Object(d.f)(he),be=(a(130),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.getItem("user")){var e=JSON.parse(localStorage.getItem("user"));this.props.setExistingUser(e)}}},{key:"handleSubmit",value:function(e){e.preventDefault(),"/login"===this.props.destination?this.props.history.push(this.props.destination):this.props.logout()}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-logout-button"},r.a.createElement("p",null,this.props.welcomeMessage),r.a.createElement("button",{onClick:this.handleSubmit}," ",this.props.text," "))}}]),t}(n.Component));be=Object(p.b)(function(e){return e.userReducer.loggedIn?{welcomeMessage:"Welcome back "+e.userReducer.user.name,text:"Logout",destination:"/logout"}:{text:"Login",destination:"/login"}},function(e){return{logout:function(){var t=ne();return e(t)},setExistingUser:function(t){var a=function(e){return function(t){return t({type:b,payload:e})}}(t);return e(a)}}})(be);var ve=Object(d.f)(be),fe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.loggedIn?r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"logoBox"},r.a.createElement(ie.b,{to:"/"},r.a.createElement("i",Object(de.a)({className:"sunLogo"},"className","fas fa-sun")),r.a.createElement("h2",{className:"title"},"Savannah"))),r.a.createElement(ge,null),r.a.createElement("div",{className:"login-box"},r.a.createElement(ve,null),r.a.createElement("div",{className:"shopping-cart-icon"},r.a.createElement(ie.b,{to:"/cart"},r.a.createElement("i",{className:"fas fa-shopping-cart"}))))):r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"logoBox"},r.a.createElement(ie.b,{to:"/"},r.a.createElement("i",Object(de.a)({className:"sunLogo"},"className","fas fa-sun")),r.a.createElement("h2",{className:"title"},"Savannah"))),r.a.createElement(ge,null),r.a.createElement("div",{className:"login-box"},r.a.createElement(ve,null)))}}]),t}(n.Component),Ee=Object(p.b)(function(e){return{loggedIn:e.userReducer.loggedIn}},function(e){return{}})(fe),ye=a(23),Oe=a.n(ye),je=(a(131),function(e){var t=Oe()(),a=e.value;return r.a.createElement("li",{className:"search-result"},r.a.createElement("div",null,r.a.createElement("img",{src:a.images[0].image_link})),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(ie.b,{to:"/items/"+a.id},r.a.createElement("h2",null,a.name))),r.a.createElement("li",null,r.a.createElement("h4",null,"Condition: ",a.conditions.condition_name)),r.a.createElement("li",null,r.a.createElement("h4",null,"Sold By: ",a.users.username)),r.a.createElement("li",null,r.a.createElement("h4",null,a.description)),r.a.createElement("li",null,r.a.createElement("h4",null,t.format("MMMM Do YYYY")))))}),Ce=(a(132),Object(p.b)(function(e){return{wildProp:e.itemReducer.searchResults}})(function(e){var t,a;return e.wildProp.length>0?(t="Found "+e.wildProp.length+" Results!",a=e.wildProp.map(function(t){return r.a.createElement(je,{value:t,key:e.wildProp.indexOf(t)})})):t="No Results. Search again for something else.",r.a.createElement("div",{className:"search-results"},r.a.createElement("h1",null,t),r.a.createElement("ul",null,a))})),_e=a(24),Ne=(a(133),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={minUsernameLength:3,maxUsernameLength:20,minPasswordLength:6,maxPasswordLength:100,usernameErrorMessage:"",usernameErrorRender:{display:"none"},data:{username:"",password:"",name:"",email:"",profileImage:"https://images.unsplash.com/photo-1458682625221-3a45f8a844c7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1567&q=80"}},a.handleUsernameChange=a.handleUsernameChange.bind(Object(pe.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(pe.a)(a)),a.handleNameChange=a.handleNameChange.bind(Object(pe.a)(a)),a.handleEmailChange=a.handleEmailChange.bind(Object(pe.a)(a)),a.handleProfileImageChange=a.handleProfileImageChange.bind(Object(pe.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleUsernameChange",value:function(e){var t=e.target.value;this.setState(function(e){return{data:Object(_e.a)({},e.data,{username:t})}})}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState(function(e){return{data:Object(_e.a)({},e.data,{password:t})}})}},{key:"handleNameChange",value:function(e){var t=e.target.value;this.setState(function(e){return{data:Object(_e.a)({},e.data,{name:t})}})}},{key:"handleEmailChange",value:function(e){var t=e.target.value;this.setState(function(e){return{data:Object(_e.a)({},e.data,{email:t})}})}},{key:"handleProfileImageChange",value:function(e){var t=e.target.value;this.setState(function(e){return{data:Object(_e.a)({},e.data,{profileImage:t})}})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.register(this.state.data).then(function(e){var a=e.payload;if(a.username)return t.props.history.push("/");t.setState({usernameErrorMessage:a.usernameErrorMessage,usernameErrorRender:{display:"initial"}})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"registration-page"},r.a.createElement("div",{className:"registration-form"},r.a.createElement("h1",null,"Create Account"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"username"},"Your Username ")),r.a.createElement("li",{style:this.state.usernameErrorRender},r.a.createElement("p",{className:"error"},this.state.usernameErrorMessage)),r.a.createElement("li",null,r.a.createElement("input",{type:"text",name:"username",required:!0,minLength:this.state.minUsernameLength,maxLength:this.state.maxUsernameLength,onChange:this.handleUsernameChange})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"password"},"Password ")),r.a.createElement("li",null,r.a.createElement("input",{type:"password",name:"password",required:!0,minLength:this.state.minPasswordLength,maxLength:this.state.maxPasswordLength,onChange:this.handlePasswordChange})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"name"},"Name ")),r.a.createElement("li",null,r.a.createElement("input",{type:"text",name:"name",onChange:this.handleNameChange})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"email"},"Email ")),r.a.createElement("li",null,r.a.createElement("input",{type:"email",name:"email",onChange:this.handleEmailChange})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"profileImage"},"Profile Image URL: ")),r.a.createElement("li",null,r.a.createElement("input",{type:"url",name:"profileImage",onChange:this.handleProfileImageChange}))),r.a.createElement("button",{type:"submit"},"Create your Savannah Account"),r.a.createElement("div",{className:"registration-directions"},r.a.createElement("h6",null,"Information: "),r.a.createElement("ul",null,r.a.createElement("li",null,"Password must be at least 6 characters."),r.a.createElement("li",null,"Already have an account? Click the login button at the upper-right corner."))))))}}]),t}(n.Component)),Se=Ne=Object(p.b)(function(e){return{registrationSuccessful:e.userReducer.registrationSuccessful}},function(e){return{register:function(t){var a=function(e){return function(t){return fetch("api/auth/register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:h,payload:e})}).catch(function(e){console.log("Error in registration: ",e)})}}(t);return e(a)}}})(Ne),Ie=(a(134),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={error:null,data:{username:"",password:""}},a.handleUsernameChange=a.handleUsernameChange.bind(Object(pe.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(pe.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleUsernameChange",value:function(e){var t=e.target.value;this.setState(function(e){return{data:Object(_e.a)({},e.data,{username:t})}})}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState(function(e){return{data:Object(_e.a)({},e.data,{password:t})}})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.login(this.state.data).then(function(e){"LOGIN_SUCCESS"===e.type?t.props.history.push("/"):t.setState({error:e.payload.error})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-form"},r.a.createElement("h1",null,"Login "),r.a.createElement("form",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"username"},"Your Username")),r.a.createElement("li",null,r.a.createElement("input",{type:"text",onChange:this.handleUsernameChange})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("li",null,r.a.createElement("input",{type:"password",onChange:this.handlePasswordChange}))),r.a.createElement("button",{type:"submit",onClick:this.handleSubmit},"Submit")),r.a.createElement("h4",null,this.state.error)))}}]),t}(n.Component)),ke=Ie=Object(p.b)(null,function(e){return{login:function(t){var a,n=(a=t,function(e){return fetch("/api/auth/login",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(e){return 200===e.status?e.json():{error:"Bad Username or Password. Try again!"}}).then(function(t){if(t.error)return e({type:g,payload:t});var a={username:t.username,id:t.id,active:t.active,role_id:t.role_id,theme_id:t.theme_id,name:t.name,profile_image_url:t.profile_image_url,email:t.email};return localStorage.setItem("user",JSON.stringify(a)),e({type:b,payload:a})}).catch(function(e){console.log("Error in login: ",e)})});return e(n)}}})(Ie),we=(a(135),a(136),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={category_dropdown_id:"",subcategory_dropdown_id:"",subcategories:[]},a.handleInputOnChange=a.handleInputOnChange.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInputOnChange",value:function(e){var t=e.target.value;e.target.name;this.setState({subcategory_dropdown_id:t}),this.props.updateChosenSubCategory(t)}},{key:"componentDidMount",value:function(){this.props.loadCategories()}},{key:"render",value:function(){var e;if(""!==this.props.category_id){var t=this.props.category_id;e=this.props.categories.filter(function(e){return e.id==t})[0].sub_categories.map(function(e,t){return r.a.createElement("option",{value:e.id},e.sub_category_name)})}return""!==this.props.category_id?r.a.createElement("select",{name:"subcategory_dropdown_id",className:"select",value:this.state.subcategory_dropdown_id,onChange:this.handleInputOnChange,required:!0},r.a.createElement("option",{value:""},"Choose a SubCategory"),e):r.a.createElement("div",null)}}]),t}(n.Component)),Ue=Object(p.b)(function(e){return{images:e.itemReducer.images,currentUser:e.itemReducer.currentUser,newestItem:e.itemReducer.newestItem,categories:e.itemReducer.categories}},function(e){return{addItem:function(t){e(te(t))},resetNewItem:function(t){e(ae())},loadCategories:function(){e(re())},updateChosenSubCategory:function(t){var a;e((a=t,function(e){return e({type:q,payload:a})}))}}})(we),De=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={category_dropdown_id:"",subcategory_dropdown_id:"",subcategories:[]},a.handleInputOnChange=a.handleInputOnChange.bind(Object(pe.a)(a)),a.changeSubCategories=a.changeSubCategories.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInputOnChange",value:function(e){var t=e.target.value;e.target.name;return this.setState({category_dropdown_id:t}),this.props.updateChosenCategory(t)}},{key:"changeSubCategories",value:function(e){}},{key:"componentDidMount",value:function(){this.props.loadCategories()}},{key:"render",value:function(){var e=this.props.categories.map(function(e,t){return r.a.createElement("option",{value:e.id},e.category_name)});return r.a.createElement("div",null,r.a.createElement("select",{name:"category_dropdown_id",className:"select",value:this.state.category_dropdown_id,onChange:this.handleInputOnChange,required:!0},r.a.createElement("option",{value:""},"Choose a Category"),e),r.a.createElement(Ue,{category_id:this.state.category_dropdown_id}))}}]),t}(n.Component),Te=Object(p.b)(function(e){return{images:e.itemReducer.images,currentUser:e.itemReducer.currentUser,newestItem:e.itemReducer.newestItem,categories:e.itemReducer.categories,chosen_category:e.itemReducer.chosen_category}},function(e){return{addItem:function(t){e(te(t))},resetNewItem:function(t){e(ae())},loadCategories:function(){e(re())},updateChosenCategory:function(t){var a;e((a=t,function(e){return e({type:G,payload:a})}))}}})(De),Ae=(a(137),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={image:""},a.handleInputOnChange=a.handleInputOnChange.bind(Object(pe.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInputOnChange",value:function(e){var t,a=e.target.name;if(e.target.files&&(t=e.target.files[0]),"image"===a)return this.setState({image:t})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData(e.target);console.log(t),t.append("image",this.state.image),console.log("thipoprsimage",this.state.image);var a={image:this.state.image};return console.log("testOBJ",a),this.props.addImage(this.props.newestItem.id,this.state.image),this.props.resetNewItem()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(""===this.props.newestItem)return console.log("hide",this.props.newestItem),r.a.createElement("div",null);console.log("show",this.props.newestItem);var e="/users/".concat(this.props.currentUser.id,"/items");return r.a.createElement("div",{id:"myModal"},r.a.createElement("div",{id:"modal-content"},r.a.createElement("div",{id:"formHeader"},r.a.createElement("h3",null,"Your item has been posted."),r.a.createElement("h4",null,"Would you like to add an image to your new item?"),r.a.createElement("form",null,r.a.createElement("input",{onChange:this.handleInputOnChange,type:"file",name:"image"}),r.a.createElement(ie.b,{to:e},r.a.createElement("button",{onClick:this.handleSubmit},"Submit Item"))))))}}]),t}(n.Component)),Re=Object(p.b)(function(e){return{images:e.itemReducer.images,currentUser:e.userReducer.user,newestItem:e.itemReducer.newestItem}},function(e){return{addItem:function(t){e(te(t))},resetNewItem:function(t){e(ae())},addImage:function(t,a){e(function(e,t){var a=new FormData;return a.append("image",t),function(t){return fetch("/api/images/items/upload/".concat(e),{method:"POST",body:a}).then(function(e){return e.json()}).catch(function(e){console.log("error in image",e)})}}(t,a))}}})(Ae),Pe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={name:"",price:0,category_id:0,condition_id:0,inventory:0,description:"",dimensions:"",image:"",shipping_cost:0,showModal:!1},a.handleInputOnChange=a.handleInputOnChange.bind(Object(pe.a)(a)),a.addNewItem=a.addNewItem.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInputOnChange",value:function(e){var t=e.target.value,a=e.target.name;return this.setState(Object(de.a)({},a,t))}},{key:"addNewItem",value:function(e){e.preventDefault();var t={};t.name=this.state.name,t.price=this.state.price,t.category_id=this.props.chosen_category,t.sub_category_id=this.props.chosen_subcategory,t.condition_id=this.state.condition_id,t.inventory=this.state.inventory,t.description=this.state.description,t.user_id=this.props.currentUser.id,t.shipping_cost=parseInt(this.state.shipping_cost),t.dimensions=this.state.dimensions,t.approved=!1,t.view_count=0,t.active=!0,console.log("data",t),this.props.addItem(t),console.log("newest",this.props.newestItem)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,a,n,i;return r.a.createElement("div",{className:"add-item-page"},r.a.createElement("h1",null,"Add Item Page"),r.a.createElement("div",{className:"add-item-form-box"},r.a.createElement("form",{className:"add-item-form",action:""},r.a.createElement("div",{className:"top-box"},r.a.createElement("div",{className:"title-price-container"},r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"name"},"Item Name:"),r.a.createElement("input",(e={className:"name-input"},Object(de.a)(e,"className","input"),Object(de.a)(e,"type","text"),Object(de.a)(e,"name","name"),Object(de.a)(e,"placeholder","Name"),Object(de.a)(e,"value",this.state.name),Object(de.a)(e,"onChange",this.handleInputOnChange),Object(de.a)(e,"required",!0),e))),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"price"},"Price"),r.a.createElement("input",(t={className:"price-input"},Object(de.a)(t,"className","input"),Object(de.a)(t,"type","number"),Object(de.a)(t,"name","price"),Object(de.a)(t,"placeholder","Price"),Object(de.a)(t,"value",this.state.price),Object(de.a)(t,"onChange",this.handleInputOnChange),t))),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"shipping_cost"},"Shipping Cost"),r.a.createElement("input",(a={className:"price-input"},Object(de.a)(a,"className","input"),Object(de.a)(a,"type","number"),Object(de.a)(a,"name","shipping_cost"),Object(de.a)(a,"placeholder","Shipping Cost"),Object(de.a)(a,"value",this.state.shipping_cost),Object(de.a)(a,"onChange",this.handleInputOnChange),a)))),r.a.createElement("div",{className:"input-div"},r.a.createElement("div",{className:"category"},r.a.createElement("label",{className:"input-label"},"Category: "),r.a.createElement(Te,null))),r.a.createElement("div",{className:"input-div"},r.a.createElement("div",{className:"condition"},r.a.createElement("label",{className:"input-label"},"Condition: "),r.a.createElement("select",{name:"condition_id",className:"select",value:this.state.condition_id,onChange:this.handleInputOnChange,required:!0},r.a.createElement("option",{value:""},"Choose a Category"),r.a.createElement("option",{value:"1"},"New"),r.a.createElement("option",{value:"2"},"Good"),r.a.createElement("option",{value:"3"},"Fair"),r.a.createElement("option",{value:"4"},"Worn"),r.a.createElement("option",{value:"5"},"Used")))),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"inventory"},"Inventory:"),r.a.createElement("input",(n={className:"inventory-input"},Object(de.a)(n,"className","input"),Object(de.a)(n,"type","number"),Object(de.a)(n,"name","inventory"),Object(de.a)(n,"placeholder","Inventory"),Object(de.a)(n,"value",this.state.inventory),Object(de.a)(n,"onChange",this.handleInputOnChange),n))),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"dimensions"},"Dimensions:"),r.a.createElement("input",(i={className:"dimensions-input"},Object(de.a)(i,"className","input"),Object(de.a)(i,"type","text"),Object(de.a)(i,"name","dimensions"),Object(de.a)(i,"placeholder","Dimensions"),Object(de.a)(i,"value",this.state.dimensions),Object(de.a)(i,"onChange",this.handleInputOnChange),Object(de.a)(i,"required",!0),i))),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"description"},"Description:"),r.a.createElement("textarea",{onChange:this.handleInputOnChange,className:"description-input",name:"description",id:"",cols:"30",rows:"10",required:!0})),r.a.createElement("button",{onClick:this.addNewItem,className:"submit-item-button"},"Continue")))),r.a.createElement(Re,null))}}]),t}(n.Component),xe=Object(p.b)(function(e){return{images:e.itemReducer.images,currentUser:e.userReducer.user,newestItem:e.itemReducer.newestItem,chosen_category:e.itemReducer.chosen_category,chosen_subcategory:e.itemReducer.chosen_subcategory}},function(e){return{addItem:function(t){e(te(t))}}})(Pe),Me=(a(138),a(139),a(140),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return this.props.loadAllActiveItems(),this.props.loadCategories()}},{key:"render",value:function(){var e=this;return this.props.categories.map(function(t,a){var n=t.category_name,i="/items/category/".concat(n),s=t.id;if(e.props.items.filter(function(e){return e.category_id===s}).some(function(e){return e.users.active}))return r.a.createElement(ie.b,{to:i},r.a.createElement("button",null,n))})}}]),t}(n.Component)),Fe=Me=Object(p.b)(function(e){return{categories:e.itemReducer.categories,items:e.itemReducer.allActiveItems}},function(e){return{loadCategories:function(){return e(re())},loadAllActiveItems:function(){return e(K())}}})(Me),Le=function(e){var t=function(){return r.a.createElement("div",{className:"category-links"},r.a.createElement("h4",null,"Shop By Category"),r.a.createElement(ie.b,{to:"/"},r.a.createElement("button",null,"View All")),r.a.createElement(Fe,null))},a=function(e){var t="/profiles/".concat(e),a="/users/".concat(e,"/items");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/"},r.a.createElement("button",null,"Home"))),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:t},r.a.createElement("button",null,"My Profile"))),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/profiles/settings"},r.a.createElement("button",null,"Settings"))),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/messages"},r.a.createElement("button",null,"Messages"))),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/cart"},r.a.createElement("button",null,"My Cart"))),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:a},r.a.createElement("button",null,"My Items"))),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/add-item"},r.a.createElement("button",null,"Add Items"))))};return e.currentUser?3===e.currentUser.role_id?r.a.createElement("div",{className:"user-nav"},r.a.createElement("div",{className:"logo"},r.a.createElement("i",{className:"sunLogo",class:"fas fa-sun"}),r.a.createElement(ie.b,{to:"/"},"Savannah")),r.a.createElement("div",{className:"wrap-links"},a(e.currentUser.id),r.a.createElement("div",{className:"cat-links"},t()))):2===e.currentUser.role_id?r.a.createElement("div",{className:"admin-nav"},r.a.createElement("div",{className:"logo"},r.a.createElement("i",{className:"sunLogo",class:"fas fa-sun"}),r.a.createElement(ie.b,{to:"/"},"SAVANNAH")),r.a.createElement("div",{className:"wrap-links"},a(e.currentUser.id),r.a.createElement("br",null),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/admin-items"},r.a.createElement("button",null,"All Items"))),r.a.createElement("div",{className:"cat-links"},t()))):r.a.createElement("div",{className:"admin-nav"},r.a.createElement("div",{className:"logo"},r.a.createElement("i",{className:"sunLogo",class:"fas fa-sun"}),r.a.createElement(ie.b,{to:"/"},"Savannah")),r.a.createElement("div",{className:"wrap-links"},a(e.currentUser.id),r.a.createElement("br",null),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/admin-users"},r.a.createElement("button",null,"All Users"))),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/admin-items"},r.a.createElement("button",null,"All Items"))),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/admin-categories"},r.a.createElement("button",null,"All Categories"))),r.a.createElement("div",{className:"cat-links"},t()))):r.a.createElement("div",{className:"public-nav"},r.a.createElement("div",{className:"logo"},r.a.createElement("i",Object(de.a)({className:"sunLogo"},"className","fas fa-sun")),r.a.createElement(ie.b,{to:"/"},"Savannah")),r.a.createElement("div",{className:"wrap-links"},r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/register"},r.a.createElement("button",null,"Register"))),r.a.createElement("div",{className:"nav-links"},r.a.createElement(ie.b,{to:"/"},r.a.createElement("button",null,"Home")))),r.a.createElement("div",{className:"cat-links"},t()))},Be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"side-box"},r.a.createElement(Le,{currentUser:this.props.currentUser}))}}]),t}(n.Component),Ye=Be=Object(p.b)(function(e){return{currentUser:e.userReducer.user}},function(e){return{}})(Be),Ge=(a(141),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={name:"",price:0,category_id:0,condition_id:0,inventory:0,description:"",dimensions:"",image:"",active:!1,id:0},a.handleInputOnChange=a.handleInputOnChange.bind(Object(pe.a)(a)),a.editThisItem=a.editThisItem.bind(Object(pe.a)(a)),a.handleActiveChange=a.handleActiveChange.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInputOnChange",value:function(e){var t=e.target.value,a=e.target.name;return console.log(a,t),this.setState(Object(de.a)({},a,t))}},{key:"handleActiveChange",value:function(e){!1===this.state.active?(this.setState({active:!0}),console.log(this.state.active)):(this.setState({active:!1}),console.log(this.state.active))}},{key:"editThisItem",value:function(e){e.preventDefault();var t={};t.category_id=this.props.chosen_category,t.sub_category_id=this.props.chosen_subcategory,t.name=this.state.name,t.price=this.state.price,t.inventory=this.state.inventory,t.dimensions=this.state.dimensions,t.condition_id=this.state.condition_id,t.active=this.state.active,t.approved=!0,this.props.editItem(this.state.id,t),console.log(t)}},{key:"componentDidMount",value:function(){var e=this;this.props.loadSpecificItem(this.props.match.params.id).then(function(t){if(!t)return console.log("no data");console.log(t),e.setState({name:t.payload.name}),e.setState({price:t.payload.price}),e.setState({inventory:t.payload.inventory}),e.setState({category_id:t.payload.category_id}),e.setState({condition_id:t.payload.condition_id}),e.setState({dimensions:t.payload.dimensions}),e.setState({description:t.payload.description}),e.setState({id:t.payload.id})})}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){return""===this.state.name?r.a.createElement("div",null,"page loading"):r.a.createElement("div",{className:"add-item-page"},r.a.createElement("h1",null,"Edit Item Page"),r.a.createElement("div",{className:"add-item-form-box"},r.a.createElement("form",{className:"add-item-form",action:""},r.a.createElement("div",{className:"top-box"},r.a.createElement("div",{className:"title-price-container"},r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"name"},"Item Name:"),r.a.createElement("input",{className:"name-input input",type:"text",name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleInputOnChange,required:!0})),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"price"},"Price"),r.a.createElement("input",{className:"price-input input",type:"number",name:"price",placeholder:"Price",value:parseInt(this.state.price),onChange:this.handleInputOnChange}))),r.a.createElement("div",{className:"input-div"},r.a.createElement("div",{className:"category"},r.a.createElement("label",{className:"input-label"},"Category: "),r.a.createElement(Te,null))),r.a.createElement("div",{className:"input-div"},r.a.createElement("div",{className:"condition"},r.a.createElement("label",{className:"input-label"},"Condition: "),r.a.createElement("select",{name:"condition_id",className:"select",value:this.state.condition_id,onChange:this.handleInputOnChange,required:!0},r.a.createElement("option",{value:""},"Choose a Category"),r.a.createElement("option",{value:"1"},"New"),r.a.createElement("option",{value:"2"},"Good"),r.a.createElement("option",{value:"3"},"Fair"),r.a.createElement("option",{value:"4"},"Worn"),r.a.createElement("option",{value:"5"},"Used")))),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"inventory"},"Inventory:"),r.a.createElement("input",{className:"inventory-input input",type:"number",name:"inventory",placeholder:"Inventory",value:this.state.inventory,onChange:this.handleInputOnChange})),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"dimensions"},"Item Name:"),r.a.createElement("input",{className:"dimensions-input input",type:"text",name:"dimensions",placeholder:"Dimensions",value:this.state.dimensions,onChange:this.handleInputOnChange,required:!0})),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"description"},"Description:"),r.a.createElement("textarea",{onChange:this.handleInputOnChange,className:"description-input",name:"description",id:"",cols:"30",rows:"10",required:!0,value:this.state.description})),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{htmlFor:"active"},"Set item to Active?"),r.a.createElement("label",{class:"switch"},r.a.createElement("input",{name:"active",type:"checkbox",onChange:this.handleActiveChange}),r.a.createElement("span",{class:"slider"}))),r.a.createElement("button",{onClick:this.editThisItem,className:"submit-item-button"},"Edit Item")))))}}]),t}(n.Component)),qe=Object(p.b)(function(e){return{item:e.itemReducer.item,chosen_category:e.itemReducer.chosen_category,chosen_subcategory:e.itemReducer.chosen_subcategory}},function(e){return{loadSpecificItem:function(t){return e(Z(t))},editItem:function(t,a){e(function(e,t){return function(a){return fetch("/api/items/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log(e)})}}(t,a))}}})(Ge),Ve=(a(142),a(143),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.subject,n=e.user_list,i="/conversation/".concat(t);return r.a.createElement(ie.b,{to:i},r.a.createElement("div",{className:"thread-box"},r.a.createElement("h3",null,a),r.a.createElement("p",null,t),r.a.createElement("h4",null,"Users: ",n)))}}]),t}(n.Component)),Je=Object(p.b)(function(e){return{}},function(e){return{}})(Ve),He=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={user:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return this.setState({user:this.props.currentUser}),this.props.grabUserThreads(),console.log(this.props.threads)}},{key:"componentDidUpdate",value:function(e){console.log(this.props.currentUser),this.props.currentUser!==e.currentUser&&this.setState({user:this.props.currentUser})}},{key:"render",value:function(){if(this.props.currentUser){if(0===this.props.threads.length)return r.a.createElement("div",null,"olollo");console.log("threads",this.props.threads);var e=this.props.threads.map(function(e,t){return r.a.createElement(Je,{id:e.id,subject:e.subject,user_list:e.user_list})});return r.a.createElement("div",{className:"message-page"},r.a.createElement("div",{className:"message-page-title"},r.a.createElement("h1",null,"Your Messages")),r.a.createElement("div",{className:"threads-container"},r.a.createElement(ie.b,{to:"/add-thread"},r.a.createElement("div",{className:"add-thread-box"},r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-plus-circle"}),"Create new thread"))),e))}return r.a.createElement(d.a,{to:"/"})}}]),t}(n.Component),$e=Object(p.b)(function(e){return{currentUser:e.userReducer.user,threads:e.itemReducer.threads}},function(e){return{grabUserThreads:function(){e(function(e){return fetch("/api/threads").then(function(e){return e.json()}).then(function(t){return e({type:A,payload:t})}).catch(function(e){return console.log("Cant access website"+e)})})}}})(He),ze=(a(144),a(145),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={name:"",email:""},a.handelNameChange=a.handelNameChange.bind(Object(pe.a)(a)),a.handelEmailChange=a.handelEmailChange.bind(Object(pe.a)(a)),a.handleCancel=a.handleCancel.bind(Object(pe.a)(a)),a.handleEditSubmit=a.handleEditSubmit.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(t){return{name:e.props.name,email:e.props.email}})}},{key:"handelNameChange",value:function(e){var t=e.target.value;this.setState(function(e){return{name:t}})}},{key:"handelEmailChange",value:function(e){var t=e.target.value;this.setState(function(e){return{email:t}})}},{key:"handleEditSubmit",value:function(e){var t=this;e.preventDefault();var a={name:this.state.name,email:this.state.email};this.props.updateUser(a).then(function(a){t.props.success(e)})}},{key:"handleCancel",value:function(e){var t=this;return e.preventDefault(),this.setState(function(e){return{name:t.props.name,email:t.props.email}}),this.props.close(e)}},{key:"render",value:function(){console.log(this.props.id);var e="/profiles/".concat(this.props.id,"/deactivate");return r.a.createElement("div",{className:"edit-profile-div"},r.a.createElement("h2",null,"Update Your Profile"),r.a.createElement("form",null,r.a.createElement("div",{className:"input-div"},r.a.createElement("label",null,"Update Name:"),r.a.createElement("input",{type:"text",name:"name",className:"input",value:this.state.name,onChange:this.handelNameChange,placeholder:this.state.name})),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",null,"Update Email:"),r.a.createElement("input",{type:"text",name:"email",className:"input",value:this.state.email,onChange:this.handelEmailChange,placeholder:this.state.email})),r.a.createElement("div",{className:"input-div"},r.a.createElement("button",{type:"submit",onClick:this.handleEditSubmit},"Submit"))),r.a.createElement("div",{className:"other-edit-div"},r.a.createElement("button",null,r.a.createElement(ie.b,{to:e},"Deactivate My Account"))),r.a.createElement("div",{className:"other-edit-div"},r.a.createElement("button",{onClick:this.handleCancel},"Cancel")))}}]),t}(n.Component)),We=ze=Object(p.b)(function(e){return{updatedUser:e.userReducer.updatedUser}},function(e){return{updateUser:function(t){return e(function(e){return function(t){return fetch("/api/users/profile",{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:B,payload:e})}).catch(function(e){console.log("error",e)})}}(t))}}})(ze),Qe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={userProfileDisplay:"display-div",editProfileDisplay:"hide-div",editSuccessDisplay:"hide-div"},a.handleClickToEdit=a.handleClickToEdit.bind(Object(pe.a)(a)),a.handleClickToEdit=a.handleClickToEdit.bind(Object(pe.a)(a)),a.editSuccess=a.editSuccess.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.loadSingleUser(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.match.params.id!==e.match.params.id){var t=this.props.match.params.id;this.props.loadSingleUser(t)}}},{key:"handleClickToEdit",value:function(e){e.preventDefault(),"hide-div"===this.state.userProfileDisplay?this.setState(function(e){return{userProfileDisplay:"display-div",editProfileDisplay:"hide-div",editSuccessDisplay:"hide-div"}}):this.setState(function(e){return{userProfileDisplay:"hide-div",editProfileDisplay:"display-div"}})}},{key:"editSuccess",value:function(e){e.preventDefault(),this.setState(function(e){return{userProfileDisplay:"display-div",editProfileDisplay:"hide-div",editSuccessDisplay:"display-div"}});var t=this.props.match.params.id;this.props.loadSingleUser(t)}},{key:"render",value:function(){if(this.props.user){if(1!==this.props.user.role_id&&parseInt(this.props.match.params.id)!==this.props.user.id)return r.a.createElement(d.a,{to:"/not-authorized"});if("all"!==this.props.match.params.id){if(this.props.user.roles){console.log(this.props.user);var e,t={id:this.props.user.id,username:this.props.user.username,name:this.props.user.name,email:this.props.user.email,image:this.props.user.profile_image_url,role:this.props.user.roles.role_name,active:this.props.user.active,memberSince:this.props.user.created_at},a=Oe()(new Date(t.memberSince)).format("MMM DD YYYY");e=t.active?"ACTIVE":"INACTIVE";var n="image-user".concat(t.id);return r.a.createElement("div",{className:"user-profile"},r.a.createElement("div",{className:"user-img"},r.a.createElement("img",{className:"prof-img",src:t.image,alt:n})),r.a.createElement("div",{className:"user-details"},r.a.createElement("div",{className:this.state.userProfileDisplay},r.a.createElement("div",{className:this.state.editSuccessDisplay},r.a.createElement("h2",null,"Successfully Updated Profile!")),r.a.createElement("h2",null,"Username:\xa0",t.username),r.a.createElement("p",{className:"user-detail"},"Name:\xa0",t.name),r.a.createElement("p",{className:"user-detail"},"Email:\xa0",t.email),r.a.createElement("p",{className:"user-detail"},"Role:\xa0",t.role),r.a.createElement("p",{className:"user-detail"},"Status:\xa0",e),r.a.createElement("p",{className:"user-detail"},"Member Since:\xa0",a),r.a.createElement("br",null),r.a.createElement("div",{className:"profile-button"},r.a.createElement("button",{onClick:this.handleClickToEdit},"Edit Profile"))),r.a.createElement("div",{className:this.state.editProfileDisplay},r.a.createElement(We,{close:this.handleClickToEdit,name:t.name,email:t.email,success:this.editSuccess,id:t.id}))))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Page Loading..."))}return r.a.createElement("h1",null,"Users Page")}return r.a.createElement(d.a,{to:"/not-authorized"})}}]),t}(n.Component),Xe=Qe=Object(p.b)(function(e){return{user:e.userReducer.user}},function(e){return{loadSingleUser:function(t){return e((a=t,function(e){return fetch("/api/users/".concat(a),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){return e({type:F,payload:t})}).catch(function(e){console.log(e)})}));var a}}})(Qe),Ke=(a(146),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={category:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return this.setState({category:this.props.match.params.category}),this.props.grabItemImages(),this.props.loadItemsByCategory(this.props.match.params.category)}},{key:"componentDidUpdate",value:function(e){if(this.props.match.params.category!==e.match.params.category)return this.setState({category:this.props.match.params.category}),this.props.grabItemImages(),this.props.loadItemsByCategory(this.props.match.params.category)}},{key:"filterImages",value:function(e,t){return t.filter(function(t){return t.item_id===e})}},{key:"render",value:function(){var e=this,t=this.props.itemsByCategory;if(t.length<1)return r.a.createElement("div",null,"Page Loading...");var a={name:this.props.match.params.category,items:t},n=t.filter(function(e){return e.inventory>0&&e.active&&e.approved&&e.users.active});t.map(function(e,t){return e.inventory>0&&e.active&&e.approved&&e.users.active});var i=n.map(function(t,a){var n;return(n=e.props.images?e.filterImages(t.id,e.props.images):[{image_link:"https://3dexport.com/items/2018/07/11/530458/205933/rigged_cartoon_giraffe_model_3d_model_c4d_max_obj_fbx_ma_lwo_3ds_3dm_stl_2172968_o.jpg"}])[0]?r.a.createElement(ce,{name:t.name,id:t.id,price:t.price,image_link:n[0].image_link}):r.a.createElement(ce,{name:t.name,id:t.id,price:t.price,image_link:"https://3dexport.com/items/2018/07/11/530458/205933/rigged_cartoon_giraffe_model_3d_model_c4d_max_obj_fbx_ma_lwo_3ds_3dm_stl_2172968_o.jpg"})});return r.a.createElement("div",{className:"category-page"},r.a.createElement("div",{className:"categoryBox"},r.a.createElement("div",{className:"item-box-title"},r.a.createElement("h3",{className:"title-text"},a.name)),r.a.createElement("div",{className:"categoryItemsBox"},i)))}}]),t}(n.Component)),Ze=Ke=Object(p.b)(function(e){return{itemsByCategory:e.itemReducer.itemsByCategory,images:e.itemReducer.images}},function(e){return{loadItemsByCategory:function(t){return e(function(e){return function(t){return fetch("/api/categories/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:w,payload:e})}).catch(function(e){console.log(e)})}}(t))},grabItemImages:function(t){return e(ee())}}})(Ke),et=(a(147),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"logoBox"},r.a.createElement("h4",{className:"title"},r.a.createElement("i",{class:"fas fa-sun"}),"Savannah")))}}]),t}(n.Component)),tt=(a(148),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a.addNewItemToCart=a.addNewItemToCart.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return this.props.incrementViews(this.props.match.params.id),this.props.loadSpecificItem(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(e){if(this.props.match.params.id!==e.match.params.id)return this.props.incrementViews(this.props.match.params.id),this.props.loadSpecificItem(this.props.match.params.id)}},{key:"addNewItemToCart",value:function(){var e={};e.item_id=parseInt(this.props.match.params.id),e.quantity=1,this.props.addItemToCart(e)}},{key:"render",value:function(){if(this.props.item.name){console.log(this.props.item);var e,t={images:this.props.item.images,name:this.props.item.name,dims:this.props.item.dimensions,price:this.props.item.price,quantity:this.props.item.inventory,description:this.props.item.description,condition:this.props.item.conditions.condition_name,status:this.props.item.active,subcat:this.props.item.sub_categories.sub_category_name,created:this.props.item.created_at,updated:this.props.item.updated_at,category:this.props.item.categories.category_name,seller:this.props.item.users.username,sellerID:this.props.item.user_id,inventory:this.props.item.inventory,view_count:this.props.item.view_count},a=Oe()(new Date(t.created)).format("MMM DD YYYY"),n=Oe()(new Date(t.updated)).format("MMM DD YYYY");e=t.status?0===t.quantity?"ITEM SOLD OUT":"AVAILABLE FOR PURCHASE":"NOT FOR SALE";var i=t.images.map(function(e,t){var a=e.image_link;return r.a.createElement("img",{src:a})}),s="/users/".concat(t.sellerID,"/items");return r.a.createElement("div",{className:"item-detail"},r.a.createElement("div",{clasName:"detail-box"},r.a.createElement("div",{className:"detail-image"},i),r.a.createElement("div",{className:"detail-descr"},r.a.createElement("h2",null,t.name),r.a.createElement("h3",null,t.dims),r.a.createElement("h5",null,"Sold By:\xa0\xa0",r.a.createElement(ie.b,{to:s},t.seller)),r.a.createElement("h5",null,"Status:\xa0\xa0",e),r.a.createElement("h4",null,"Seller Price:\xa0\xa0",t.price),r.a.createElement("h4",null,"Quantity in Stock:\xa0\xa0",t.quantity),r.a.createElement("h4",null,"Views:\xa0\xa0",t.view_count),r.a.createElement(ie.b,{to:"/cart"},r.a.createElement("button",{onClick:this.addNewItemToCart},"Add To Cart")),r.a.createElement("button",null,"Contact Seller"))),r.a.createElement("div",{className:"detail-detail"},r.a.createElement("h4",null,"Condition:\xa0\xa0",t.condition),r.a.createElement("h4",null,"Description:"),t.description,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Category:\xa0\xa0",t.category,r.a.createElement("br",null),"Subcategory:\xa0\xa0",t.subcat,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Posting Date:\xa0\xa0",a,r.a.createElement("br",null),"Last Updated:\xa0\xa0",n))}return r.a.createElement("div",null,"Page Loading...")}}]),t}(n.Component)),at=tt=Object(p.b)(function(e){return{item:e.itemReducer.item}},function(e){return{incrementViews:function(t){return e((a=t,function(){return fetch("/api/items/".concat(a,"/views"),{method:"PUT",headers:{"Content-Type":"application/json"}})}));var a},loadSpecificItem:function(t){return e(Z(t))},addItemToCart:function(t){return e(function(e){return function(t){return fetch("/api/carts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).catch(function(e){console.log("Error in logout: ",e)})}}(t))}}})(tt),nt=(a(149),a(150),a(67),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={id:0,username:"",role_id:3,role:"",active:"",imageURL:"",activeSince:"",self:0},a.roleOptions=a.roleOptions.bind(Object(pe.a)(a)),a.handleInputOnChange=a.handleInputOnChange.bind(Object(pe.a)(a)),a.handleRoleChange=a.handleRoleChange.bind(Object(pe.a)(a)),a.handleStatusChange=a.handleStatusChange.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Oe()(new Date(this.props.activeSince)).format("MM/DD/YYYY");this.setState(function(a){return{id:e.props.id,username:e.props.username,role_id:e.props.role_id,role:e.props.role,imageURL:e.props.image,activeSince:t,self:e.props.self}}),this.props.active?this.setState(function(e){return{active:"ACTIVE"}}):this.setState(function(e){return{active:"INACTIVE"}})}},{key:"componentDidUpdate",value:function(e){}},{key:"handleInputOnChange",value:function(e){var t=e.target.value,a=e.target.name;return this.setState(Object(de.a)({},a,t))}},{key:"handleRoleChange",value:function(e){e.preventDefault();var t={id:this.state.id,role_id:this.state.role_id};return"1"===t.role_id?this.setState({role:"Admin"}):"2"===t.role_id?this.setState({role:"Moderator"}):this.setState({role:"User"}),this.props.adminUserEdit(t)}},{key:"handleStatusChange",value:function(e){var t;e.preventDefault(),"ACTIVE"===this.state.active?(t={id:this.state.id,active:!1},this.setState({active:"INACTIVE"})):(t={id:this.state.id,active:!0},this.setState({active:"ACTIVE"})),this.props.adminUserEdit(t)}},{key:"roleOptions",value:function(e){return 1===e?r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{name:"role_id",onChange:this.handleInputOnChange},r.a.createElement("option",{value:"1"},"Admin"),r.a.createElement("option",{value:"2"},"Moderator"),r.a.createElement("option",{value:"3"},"User"))):2===e?r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{name:"role_id",onChange:this.handleInputOnChange},r.a.createElement("option",{value:"2"},"Moderator"),r.a.createElement("option",{value:"1"},"Admin"),r.a.createElement("option",{value:"3"},"User"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{name:"role_id",onChange:this.handleInputOnChange},r.a.createElement("option",{value:"3"},"User"),r.a.createElement("option",{value:"2"},"Moderator"),r.a.createElement("option",{value:"1"},"Admin")))}},{key:"render",value:function(){var e=this.state.id===this.state.self,t="/users/".concat(this.state.id,"/items");return r.a.createElement("div",{className:"admin-user-view"},r.a.createElement("div",{className:"admin-user-box-1"},r.a.createElement("img",{className:"img",src:this.state.imageURL,alt:this.state.username})),r.a.createElement("div",{className:"admin-user-box-2"},r.a.createElement(ie.b,{to:t},r.a.createElement("h3",null,this.state.username)),r.a.createElement("p",null,"Member Since:\xa0\xa0",this.state.activeSince),r.a.createElement("p",null,"Role:\xa0\xa0",this.state.role),r.a.createElement("p",null,"Status:\xa0\xa0",this.state.active),r.a.createElement("div",{className:"update-role"},r.a.createElement("form",null,r.a.createElement("label",{for:"role",name:"role"},"Update Role"),r.a.createElement("br",null),this.roleOptions(this.props.role_id),r.a.createElement("br",null),r.a.createElement("button",{disabled:e,type:"submit",onClick:this.handleRoleChange},"Submit"))),r.a.createElement("div",{className:"deactivate"},r.a.createElement("button",{disabled:e,onClick:this.handleStatusChange},"Activate / Deactivate"))))}}]),t}(n.Component)),rt=nt=Object(p.b)(function(e){return{updatedUser:e.userReducer.updatedUser}},function(e){return{adminUserEdit:function(t){return e(function(e){return function(t){return fetch("/api/users/admin",{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:W,payload:e})}).catch(function(e){console.log("error",e)})}}(t))}}})(nt),it=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return this.props.grabAllUsers()}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){if(this.props.user){if(1!==this.props.user.role_id)return r.a.createElement(d.a,{to:"/not-authorized"});var e=this.props.user.id,t=this.props.userList.map(function(t,a){return r.a.createElement(rt,{self:e,id:t.id,username:t.username,role_id:t.role_id,role:t.roles.role_name,active:t.active,image:t.profile_image_url,activeSince:t.created_at})});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"admin-all-users"},r.a.createElement("h1",null,"All Users"),r.a.createElement("div",{className:"user-card-container"},t)))}return r.a.createElement(d.a,{to:"/not-authorized"})}}]),t}(n.Component),st=it=Object(p.b)(function(e){return{user:e.userReducer.user,userList:e.itemReducer.userList}},function(e){return{grabAllUsers:function(){return e(function(e){return fetch("/api/users/all").then(function(e){return e.json()}).then(function(t){return e({type:x,payload:t})}).catch(function(e){return console.log("Cant access website"+e)})})}}})(it),ct=(a(286),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"not-authorized"},r.a.createElement("h1",null,"Not Authorized"),r.a.createElement("p",null,"You are not authorized to view this page."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ie.b,{to:"/"},"Back to All Products"))}}]),t}(n.Component)),ot=(a(287),a(288),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={thisUser:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser&&this.setState({thisUser:this.props.currentUser.id})}},{key:"componentDidUpdate",value:function(e){this.props.currentUser!==e.currentUser&&this.setState({thisUser:this.props.currentUser.id})}},{key:"render",value:function(){var e=this.props.id,t="/edit-item/".concat(e);return r.a.createElement("div",{className:"edit-buttons"},r.a.createElement("button",null,r.a.createElement(ie.b,{to:t},"Edit Item")))}}]),t}(n.Component)),lt=ot=Object(p.b)(function(e){return{currentUser:e.itemReducer.currentUser}},function(e){return{}})(ot),ut=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.grabItemImages();var e=this.props.id;return this.props.loadInactiveItems(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.id!==e.id){var t=this.props.id;return this.props.grabItemImages(),this.props.loadActiveItems(t)}}},{key:"filterImages",value:function(e,t){return t.filter(function(t){return t.item_id===e})}},{key:"render",value:function(){var e=this,t=this.props.inactiveItems.map(function(t,a){var n;return(n=e.props.images?e.filterImages(t.id,e.props.images):[{image_link:"https://3dexport.com/items/2018/07/11/530458/205933/rigged_cartoon_giraffe_model_3d_model_c4d_max_obj_fbx_ma_lwo_3ds_3dm_stl_2172968_o.jpg"}])[0]?r.a.createElement("div",{className:"user-item"},r.a.createElement("div",null,r.a.createElement(ce,{name:t.name,id:t.id,price:t.price,image_link:n[0].image_link})),r.a.createElement(lt,{id:t.id,activeStatus:!1})):r.a.createElement("div",{className:"user-item"},r.a.createElement("div",null,r.a.createElement(ce,{name:t.name,id:t.id,price:t.price,image_link:"https://3dexport.com/items/2018/07/11/530458/205933/rigged_cartoon_giraffe_model_3d_model_c4d_max_obj_fbx_ma_lwo_3ds_3dm_stl_2172968_o.jpg"})),r.a.createElement(lt,{id:t.id,activeStatus:!1}))});return t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Inactive Items"),r.a.createElement("div",{className:"inactiveItemsBox"},t)):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"No Inactive Items"))}}]),t}(n.Component),mt=ut=Object(p.b)(function(e){return{currentUser:e.itemReducer.currentUser,inactiveItems:e.itemReducer.inactiveItems,images:e.itemReducer.images}},function(e){return{loadInactiveItems:function(t){return e(function(e){return function(t){return fetch("/api/users/items/".concat(e,"/inactive"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:C,payload:e})}).catch(function(e){console.log(e)})}}(t))},grabItemImages:function(t){return e(ee())}}})(ut),dt=(a(289),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.grabItemImages();var e=this.props.id;return this.props.loadActiveItems(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.id!==e.id){var t=this.props.id;return this.props.grabItemImages(),this.props.loadActiveItems(t)}}},{key:"filterImages",value:function(e,t){return t.filter(function(t){return t.item_id===e})}},{key:"render",value:function(){var e=this,t=this.props.activeItems.map(function(t,a){var n;return n=e.props.images?e.filterImages(t.id,e.props.images):[{image_link:"https://3dexport.com/items/2018/07/11/530458/205933/rigged_cartoon_giraffe_model_3d_model_c4d_max_obj_fbx_ma_lwo_3ds_3dm_stl_2172968_o.jpg"}],e.props.isUserOnOwnPage?n[0]?r.a.createElement("div",{className:"user-item"},r.a.createElement("div",null,r.a.createElement(ce,{name:t.name,id:t.id,price:t.price,image_link:n[0].image_link})),r.a.createElement(lt,{id:t.id,activeStatus:!0})):r.a.createElement("div",{className:"user-item"},r.a.createElement("div",null,r.a.createElement(ce,{name:t.name,id:t.id,price:t.price,image_link:"https://3dexport.com/items/2018/07/11/530458/205933/rigged_cartoon_giraffe_model_3d_model_c4d_max_obj_fbx_ma_lwo_3ds_3dm_stl_2172968_o.jpg"})),r.a.createElement(lt,{id:t.id,activeStatus:!0})):n[0]?r.a.createElement("div",{className:"user-item"},r.a.createElement("div",null,r.a.createElement(ce,{name:t.name,id:t.id,price:t.price,image_link:n[0].image_link}))):r.a.createElement("div",{className:"user-item"},r.a.createElement("div",null,r.a.createElement(ce,{name:t.name,id:t.id,price:t.price,image_link:"https://3dexport.com/items/2018/07/11/530458/205933/rigged_cartoon_giraffe_model_3d_model_c4d_max_obj_fbx_ma_lwo_3ds_3dm_stl_2172968_o.jpg"})))});return t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Items Available For Sale"),r.a.createElement("div",{className:"inactiveItemsBox"},t)):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"This user has no items available for sale."))}}]),t}(n.Component)),pt=dt=Object(p.b)(function(e){return{currentUser:e.itemReducer.currentUser,activeItems:e.itemReducer.activeItems,images:e.itemReducer.images}},function(e){return{loadActiveItems:function(t){return e(function(e){return function(t){return fetch("/api/users/items/".concat(e,"/active"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:j,payload:e})}).catch(function(e){console.log(e)})}}(t))},grabItemImages:function(t){return e(ee())}}})(dt),ht=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={userID:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.grabUsername(this.props.match.params.id),this.props.currentUser&&this.setState({userID:this.props.currentUser.id})}},{key:"componentDidUpdate",value:function(e){this.props.currentUser!==e.currentUser&&this.props.currentUser&&this.setState({userID:this.props.currentUser.id})}},{key:"render",value:function(){var e=!1;if(this.state.userID){var t=this.props.match.params.id;e=this.state.userID===parseInt(t)}var a=this.props.username.username;return e?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user-items"},r.a.createElement("div",{className:"user-store"},r.a.createElement("h1",null,a,"'s Store")),r.a.createElement(pt,{id:parseInt(this.props.match.params.id),isUserOnOwnPage:e,username:this.props.username.username}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(mt,{id:parseInt(this.props.match.params.id)}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user-items"},r.a.createElement("div",{className:"user-store"},r.a.createElement("h1",null,a,"'s Store")),r.a.createElement(pt,{id:parseInt(this.props.match.params.id),isUserOnOwnPage:e})))}}]),t}(n.Component),gt=ht=Object(p.b)(function(e){return{username:e.itemReducer.username,currentUser:e.userReducer.user}},function(e){return{grabUsername:function(t){return e(function(e){return function(t){return fetch("/api/users/".concat(e,"/username"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:M,payload:e})}).catch(function(e){console.log(e)})}}(t))}}})(ht),bt=(a(290),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={userID:"",newPassword:"",retypePassword:"",displaySuccess:"hidden-div"},a.handlePasswordChange=a.handlePasswordChange.bind(Object(pe.a)(a)),a.handleRetypePasswordChange=a.handleRetypePasswordChange.bind(Object(pe.a)(a)),a.handleNewPasswordSubmit=a.handleNewPasswordSubmit.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.currentUser.id;this.setState({userID:e})}},{key:"componentDidUpdate",value:function(){}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({newPassword:t})}},{key:"handleRetypePasswordChange",value:function(e){var t=e.target.value;this.setState({retypePassword:t})}},{key:"handleNewPasswordSubmit",value:function(e){e.preventDefault();var t={id:this.state.userID,password:this.state.newPassword};this.props.updatePassword(t),this.setState(function(e){return{newPassword:"",retypePassword:"",displaySuccess:"displayed-div"}})}},{key:"render",value:function(){if(console.log(this.state),this.props.currentUser){var e=this.state.newPassword===this.state.retypePassword,t=this.state.newPassword.length>5&&this.state.newPassword.length<100&&e;return r.a.createElement("div",{className:"password-update"},r.a.createElement("h1",null,"Update Your Password"),r.a.createElement("form",null,r.a.createElement("p",null,"Password must be at least 6 characters long."),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",null,"New Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",value:this.state.newPassword,onChange:this.handlePasswordChange})),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",null,"Re-Enter New Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"retypePassword",value:this.state.retypePassword,onChange:this.handleRetypePasswordChange})),r.a.createElement("div",{className:"input-div"},r.a.createElement("button",{disabled:!t,onClick:this.handleNewPasswordSubmit},"Submit"))),r.a.createElement("div",{className:this.state.displaySuccess},r.a.createElement("h3",null,"Successfully Changed Password!")))}return r.a.createElement(d.a,{to:"/not-authorized"})}}]),t}(n.Component)),vt=bt=Object(p.b)(function(e){return{currentUser:e.userReducer.user,passwordUpdateStatus:e.userReducer.passwordUpdateStatus}},function(e){return{updatePassword:function(t){return e(function(e){return function(t){return fetch("/api/users/password",{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:L,payload:e})}).catch(function(e){console.log("error",e)})}}(t))}}})(bt),ft=(a(291),a(292),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.body,a=e.sent_by_user_id,n=e.sent_by_username;return a===this.props.currentUser.id?r.a.createElement("div",{className:"outer-message-box-user"},r.a.createElement("div",Object(de.a)({className:"message-box"},"className","user-message"),r.a.createElement("p",{className:"sent_by"},n),r.a.createElement("div",{className:"message-body"},t))):r.a.createElement("div",{className:"outer-message-box-other"},r.a.createElement("div",Object(de.a)({className:"message-box"},"className","other-message"),r.a.createElement("p",{className:"sent_by"},n),r.a.createElement("div",{className:"message-body"},t)))}}]),t}(n.Component)),Et=Object(p.b)(function(e){return{currentUser:e.userReducer.user}},function(e){return{}})(ft),yt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={body:"",messages:a.props.messages,newestMessage:""},a.handleInputOnChange=a.handleInputOnChange.bind(Object(pe.a)(a)),a.postMessage=a.postMessage.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInputOnChange",value:function(e){var t=e.target.value,a=e.target.name;return console.log(a,t),this.setState(Object(de.a)({},a,t))}},{key:"postMessage",value:function(e){e.preventDefault();var t={};t.body=this.state.body,console.log(t),this.props.postNewMessage(t,this.props.match.params.id),this.setState({newestMessage:this.state.body})}},{key:"componentDidMount",value:function(){this.props.currentUser;if(this.props.grabThreadMessages(this.props.match.params.id),document.getElementById("messages-container")){var e=document.getElementById("messages-container");e.scrollTop=e.scrollHeight}}},{key:"componentDidUpdate",value:function(e){if(this.props.messages!==e.messages){var t=document.getElementById("messages-container");t.scrollTop=t.scrollHeight}}},{key:"render",value:function(){if(this.props.currentUser){if(0===this.props.messages.length)return r.a.createElement("div",null,"No messages found2");var e=this.props.messages.sort(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var r="string"===typeof a[e]?a[e].toUpperCase():a[e],i="string"===typeof n[e]?n[e].toUpperCase():n[e],s=0;return r>i?s=1:r<i&&(s=-1),"desc"==t?-1*s:s}}("id","asc"));console.log(e);var t=e.map(function(e,t){return r.a.createElement(Et,{id:e.id,body:e.body,sent_by_user_id:e.sent_by_user_id,sent_by_username:e.sent_by_username})});return r.a.createElement("div",{className:"conversation-page"},r.a.createElement("div",{className:"conversation-page-title"}),r.a.createElement("div",{className:"messages-container",id:"messages-container"},t),r.a.createElement("div",{className:"input-message-container"},r.a.createElement("form",{action:""},r.a.createElement("div",{id:"form-div"},r.a.createElement("textarea",{onChange:this.handleInputOnChange,name:"body",id:"message-input",cols:"30",rows:"10"}),r.a.createElement("div",{id:"button-container"},r.a.createElement("button",{onClick:this.postMessage,id:"submit-message-button"},"Send"))))))}return r.a.createElement(d.a,{to:"/"})}}]),t}(n.Component),Ot=Object(p.b)(function(e){return{currentUser:e.userReducer.user,threads:e.itemReducer.threads,messages:e.itemReducer.messages}},function(e){return{grabThreadMessages:function(t){var a;e((a=t,function(e){return fetch("/api/threads/".concat(a)).then(function(e){return e.json()}).then(function(t){return e({type:R,payload:t})}).catch(function(e){return console.log("Cant access website"+e)})}))},postNewMessage:function(t,a){e(function(e,t){return function(a){return fetch("/api/threads/".concat(t),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return function(t){t({type:P,payload:e})}}).catch(function(e){console.log("Error in logout: ",e)})}}(t,a))}}})(yt),jt=(a(293),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={subject:"",body:"",userList:[]},a.handleInputOnChange=a.handleInputOnChange.bind(Object(pe.a)(a)),a.addNewThread=a.addNewThread.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInputOnChange",value:function(e){var t=e.target.value,a=e.target.name;if("addUser"===a){var n=this.state.userList;return n.push(parseInt(t)),console.log(n),this.setState({userList:n})}return this.setState(Object(de.a)({},a,t))}},{key:"addNewThread",value:function(e){e.preventDefault();var t={};return t.subject=this.state.subject,t.body=this.state.body,t.read_only=!1,t.userList=this.state.userList,this.props.addThread(t)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,a,n=this,i=this.state.userList.map(function(e,t){var a;return r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"addUser"},"Add User to Thread:"),r.a.createElement("input",(a={className:"body-input"},Object(de.a)(a,"className","input"),Object(de.a)(a,"type","number"),Object(de.a)(a,"name","addUser"),Object(de.a)(a,"placeholder","Add User"),Object(de.a)(a,"value",n.state.userList[t+1]),Object(de.a)(a,"onChange",n.handleInputOnChange),Object(de.a)(a,"required",!0),a)))});return r.a.createElement("div",{className:"add-thread-page"},r.a.createElement("h1",null,"Add Thread Page"),r.a.createElement("div",{className:"add-thread-form-box"},r.a.createElement("form",{className:"add-thread-form",action:""},r.a.createElement("div",null),r.a.createElement("div",{className:"input-div"},r.a.createElement("div",null,r.a.createElement("label",{className:"input-label",htmlFor:"name"},"Thread Subject:"),r.a.createElement("input",(e={className:"name-input"},Object(de.a)(e,"className","input"),Object(de.a)(e,"type","text"),Object(de.a)(e,"name","subject"),Object(de.a)(e,"placeholder","Subject"),Object(de.a)(e,"value",this.state.name),Object(de.a)(e,"onChange",this.handleInputOnChange),Object(de.a)(e,"required",!0),e)))),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"body"},"Message Body:"),r.a.createElement("input",(t={className:"body-input"},Object(de.a)(t,"className","input"),Object(de.a)(t,"type","text"),Object(de.a)(t,"name","body"),Object(de.a)(t,"placeholder","Message Body"),Object(de.a)(t,"value",this.state.body),Object(de.a)(t,"onChange",this.handleInputOnChange),Object(de.a)(t,"required",!0),t))),r.a.createElement("div",{className:"input-div"},r.a.createElement("label",{className:"input-label",htmlFor:"addUser"},"Add User to Thread:"),r.a.createElement("input",(a={className:"body-input"},Object(de.a)(a,"className","input"),Object(de.a)(a,"type","number"),Object(de.a)(a,"name","addUser"),Object(de.a)(a,"placeholder","Add User"),Object(de.a)(a,"value",this.state.userList[0]),Object(de.a)(a,"onChange",this.handleInputOnChange),Object(de.a)(a,"required",!0),a))),i,r.a.createElement("button",{onClick:this.addNewThread},"Create Thread"))))}}]),t}(n.Component)),Ct=Object(p.b)(function(e){return{images:e.itemReducer.images,currentUser:e.itemReducer.currentUser,newestItem:e.itemReducer.newestItem}},function(e){return{addThread:function(t){e(function(e){return function(t){return fetch("/api/threads",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).catch(function(e){console.log("Error in logout: ",e)})}}(t))}}})(jt),_t=(a(294),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={redirectToReferrer:!1},a.handleDeactivate=a.handleDeactivate.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleDeactivate",value:function(e){console.log("skdjfskjskdjfskdf"),e.preventDefault(),this.props.logout(),this.props.deactivateUser(),this.setState(function(e){return{redirectToReferrer:!0}})}},{key:"render",value:function(){return this.props.user?parseInt(this.props.match.params.id)!==this.props.user.id?r.a.createElement(d.a,{to:"/not-authorized"}):this.state.redirectToReferrer?r.a.createElement(d.a,{to:"/"}):r.a.createElement("div",{className:"deactivate"},r.a.createElement("h2",null,"Deactivate Account"),r.a.createElement("p",null,"Note that deactivating your account will not permanently delete your account.  Upon account deactivation, all of your items will be changed to inactive status and you may not log into your account again."),r.a.createElement("p",null,"Upon account deactivation, you will be logged out of your account and returned to the Home page."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handleDeactivate},"I Understand, Deactivate My Account")):r.a.createElement(d.a,{to:"/not-authorized"})}}]),t}(n.Component)),Nt=_t=Object(p.b)(function(e){return{user:e.userReducer.user}},function(e){return{deactivateUser:function(){return e(function(){var e={active:!1};return function(t){return fetch("/api/users/profile",{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:Y,payload:e})}).catch(function(e){console.log("error",e)})}}())},logout:function(){return e(ne())}}})(_t),St=(a(295),a(296),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={id:0,name:"",description:"",dims:"",sellerID:0,seller:"",condition:"",category:"",subCategory:"",inventory:"",price:"",shipping:"",approved:"",status:"",views:"",image:""},a.handleApprovalChange=a.handleApprovalChange.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({id:this.props.id,name:this.props.name,description:this.props.description,dims:this.props.dims,sellerID:this.props.sellerID,seller:this.props.seller,condition:this.props.condition,category:this.props.category,subCategory:this.props.subCategory,inventory:this.props.inventory,price:this.props.price,shipping:this.props.shipping,views:this.props.views,image:this.props.image}),this.props.active?this.setState({status:"ACTIVE"}):this.setState({status:"INACTIVE"}),this.props.approved?this.setState({approved:"YES"}):this.setState({approved:"NO"})}},{key:"handleApprovalChange",value:function(e){if(e.preventDefault(),"YES"===this.state.approved){var t={id:this.state.id,approved:!1};return this.props.adminItemEdit(t),this.setState({approved:"NO"})}var a={id:this.state.id,approved:!0};this.props.adminItemEdit(a),this.setState({approved:"YES"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"item-card"},r.a.createElement("div",{className:"break-div"},r.a.createElement("div",{className:"item-subdiv"},r.a.createElement("div",{className:"image-div"},r.a.createElement("img",{src:this.state.image}))),r.a.createElement("div",{className:"item-subdiv"},r.a.createElement("h3",null,"Item# ",this.state.id,":\xa0\xa0",this.state.name),r.a.createElement("p",null,this.state.dims," - ",this.state.description),r.a.createElement("p",null,"Seller:\xa0\xa0",this.state.seller),r.a.createElement("p",null,"Views:\xa0\xa0",this.state.views),r.a.createElement("p",null,"Category:\xa0\xa0",this.state.category),r.a.createElement("p",null,"Sub-Category:\xa0\xa0",this.state.subCategory))),r.a.createElement("div",{className:"break-div"},r.a.createElement("div",{className:"item-subdiv"},r.a.createElement("p",null,"Condition:\xa0\xa0",this.state.condition),r.a.createElement("p",null,"Status:\xa0\xa0",this.state.status),r.a.createElement("p",null,"Inventory:\xa0\xa0",this.state.inventory),r.a.createElement("p",null,"Price:\xa0\xa0",this.state.price),r.a.createElement("p",null,"Shipping Price:\xa0\xa0",this.state.shipping)),r.a.createElement("div",{className:"toggle"},r.a.createElement("button",{onClick:this.handleApprovalChange},"Approve/Unapprove"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("span",{className:"approval"},"Approved:\xa0\xa0",this.state.approved)))))}}]),t}(n.Component)),It=St=Object(p.b)(function(e){return{item:e.itemReducer.item}},function(e){return{adminItemEdit:function(t){return e(function(e){return function(t){return fetch("/api/items/admin",{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:Q,payload:e})}).catch(function(e){console.log("error",e)})}}(t))}}})(St),kt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return this.props.loadItems()}},{key:"render",value:function(){var e=this.props.items.map(function(e,t){var a="$ ".concat(e.price),n="$ ".concat(e.shipping_cost),i="https://3dexport.com/items/2018/07/11/530458/205933/rigged_cartoon_giraffe_model_3d_model_c4d_max_obj_fbx_ma_lwo_3ds_3dm_stl_2172968_o.jpg";return e.images[0].image_link&&(i=e.images[0].image_link),r.a.createElement(It,{id:e.id,name:e.name,description:e.description,dims:e.dimensions,sellerID:e.user_id,seller:e.users.name,condition:e.conditions.condition_name,category:e.categories.category_name,subCategory:e.sub_categories.sub_category_name,inventory:e.inventory,price:a,shipping:n,views:e.view_count,image:i,active:e.active,approved:e.approved})});return this.props.user?3===this.props.user.role_id?r.a.createElement(d.a,{to:"/not-authorized"}):r.a.createElement("div",{className:"admin-items"},r.a.createElement("h1",null,"All Items"),e):r.a.createElement(d.a,{to:"/not-authorized"})}}]),t}(n.Component),wt=kt=Object(p.b)(function(e){return{items:e.itemReducer.items,user:e.userReducer.user}},function(e){return{loadItems:function(){return e(function(e){return fetch("/api/items").then(function(e){return e.json()}).then(function(t){return e({type:y,payload:t})}).catch(function(e){return console.log("Cant access website"+e)})})}}})(kt),Ut=(a(297),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a.deleteCartItem=a.deleteCartItem.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log(typeof this.props.grabUserCart),this.props.grabUserCart()}},{key:"componentDidUpdate",value:function(e){}},{key:"deleteCartItem",value:function(e){this.props.deleteItemFromCart(e),this.props.grabUserCart()}},{key:"render",value:function(){var e=this;console.log(this.props.cart_items);var t=0,a=this.props.cart_items.map(function(a,n){var i=parseFloat(parseFloat(a.price*a.quantity).toFixed(2))+parseFloat(parseFloat(a.shipping_cost).toFixed(2));return t+=parseFloat(parseFloat(i).toFixed(2)),r.a.createElement("div",{className:"cart-item-box"},r.a.createElement("div",{className:"cart-item-image-box"},r.a.createElement("img",{src:a.item_image,alt:"",className:"cart-item-image"})),r.a.createElement("div",{className:"cart-item-information-box"},r.a.createElement("div",{className:"cart-item-inner-info-box"},r.a.createElement("div",{className:"cart-item-name"},a.item_name),r.a.createElement("div",{className:"cart-item-seller cart-item-info"},"Seller: ",a.seller),r.a.createElement("div",{className:"cart-item-quantity cart-item-info"},"Quantity: ",a.quantity),r.a.createElement("div",{className:"cart-item-price cart-item-info"},"Item Price: $ ",a.price),r.a.createElement("div",{className:"cart-item-price cart-item-info"},"Shipping Cost: $ ",a.shipping_cost),r.a.createElement("div",{className:"cart-item-total-price"},"Total Cost for Item: $ ",i),r.a.createElement("button",{onClick:function(){e.deleteCartItem(a.id)},className:"delete-item-button"},"Delete Item From Cart"))))});return r.a.createElement("div",{className:"cart-page"},r.a.createElement("div",{className:"cart-page-title"},r.a.createElement("h1",null,"Your Cart"),r.a.createElement("div",null,this.state.hoverId)),r.a.createElement("div",{className:"cart-items-container"},r.a.createElement("div",{className:"small-cart-container"},a)),r.a.createElement("div",{className:"total-price-container"},"Total Price: $ ",t),r.a.createElement("div",{className:"checkout-container"},r.a.createElement(ie.b,{to:"/checkout"},r.a.createElement("button",{className:"checkout-button"},"Checkout"))))}}]),t}(n.Component)),Dt=Object(p.b)(function(e){return{currentUser:e.userReducer.user,threads:e.itemReducer.threads,cart_items:e.itemReducer.cart_items}},function(e){return{grabUserCart:function(){e(X())},loadSpecificItem:function(){e(Z())},deleteItemFromCart:function(t){e(function(e){return function(t){return fetch("/api/carts/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(e){return function(t){t({type:J,payload:e})}}).catch(function(e){console.log("Error in logout: ",e)})}}(t))}}})(Ut),Tt=(a(298),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={payment_dropdown_id:"",shipping_dropdown_id:""},a.handleInputOnChange=a.handleInputOnChange.bind(Object(pe.a)(a)),a.deleteCartItem=a.deleteCartItem.bind(Object(pe.a)(a)),a.createOrder=a.createOrder.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInputOnChange",value:function(e){var t=e.target.value,a=e.target.name;return this.setState(Object(de.a)({},a,t))}},{key:"componentDidMount",value:function(){this.props.grabUserCart(),this.props.grabShipping(),this.props.grabShippingPrimary(),this.props.grabPayments()}},{key:"componentDidUpdate",value:function(e){}},{key:"deleteCartItem",value:function(e){this.props.deleteItemFromCart(e),this.props.grabUserCart()}},{key:"createOrder",value:function(){var e=[];this.props.cart_items.map(function(t,a){var n={};n.item_id=t.item_id,n.quantity=t.quantity,e.push(n)});var t={};return t.shipping_address_id=this.state.shipping_dropdown_id,t.payment_card_id=this.state.payment_dropdown_id,t.orders=e,this.props.postNewOrder(t)}},{key:"render",value:function(){var e=this;console.log(this.props.shipping);var t=0,a=0,n=0,i=this.props.cart_items.map(function(e,i){var s=Number(parseFloat(e.price*e.quantity).toFixed(2))+Number(parseFloat(e.shipping_cost).toFixed(2));return a+=parseFloat(e.shipping_cost),t+=Number(parseFloat(e.price*e.quantity).toFixed(2)),parseFloat(parseFloat(s).toFixed(2)),n+=Number(e.quantity),r.a.createElement("div",{className:"checkout-item-box"},r.a.createElement("div",{className:"checkout-item-image-box"},r.a.createElement("img",{src:e.item_image,alt:"",className:"checkout-item-image"})),r.a.createElement("div",{className:"checkout-item-information-box"},r.a.createElement("div",{className:"checkout-item-inner-info-box"},r.a.createElement("div",{className:"checkout-item-name"},e.item_name),r.a.createElement("div",{className:"checkout-item-info"},"Quantity: ",e.quantity),r.a.createElement("div",{className:"checkout-item-info"},"Item Price: $ ",e.price),r.a.createElement("div",{className:"checkout-item-info"},"Shipping Cost: $ ",e.shipping_cost),r.a.createElement("div",{className:"checkout-item-total-price"},"Total Cost for Item: $ ",s),r.a.createElement("button",{className:"delete-item-button"},"Delete Item From Cart"))))}),s=this.props.shipping.map(function(e,t){return r.a.createElement("option",{className:"select-selected",value:e.id},e.street,", ",e.city,", ",e.states.postal_code)}),c=this.props.payments.map(function(e,t){var a=e.card_number.substr(e.card_number.length-4),n=e.card_number.length-4,i="*".repeat(n)+a;return r.a.createElement("option",{value:e.id},i)}),o=parseFloat(t+a).toFixed(2),l=0,u=o;if(""!==this.state.shipping_dropdown_id){var m=this.props.shipping.filter(function(t){return t.id==e.state.shipping_dropdown_id}),d=parseFloat(m[0].states.tax_rate);l=parseFloat(Number(o)*d).toFixed(2),u=parseFloat(Number(o)+Number(l)).toFixed(2)}else l=0;return r.a.createElement("div",{className:"checkout-page"},r.a.createElement("div",{className:"checkout-title"},r.a.createElement("h1",null,"Checkout")),r.a.createElement("div",{className:"main-checkout-container"},r.a.createElement("div",{className:"info-review-container"},r.a.createElement("div",{className:"shipping-address-container"},r.a.createElement("h4",null,"Confirm Shipping"),r.a.createElement("div",{className:"custom-select"},r.a.createElement("select",{name:"shipping_dropdown_id",className:"select",value:this.state.shipping_dropdown_id,onChange:this.handleInputOnChange,required:!0},r.a.createElement("option",{className:"select-selected",value:""},"Choose a Category"),s))),r.a.createElement("div",{className:"payment-method-container"},r.a.createElement("h4",null,"Confirm Payment Method"),r.a.createElement("select",{name:"payment_dropdown_id",className:"select",value:this.state.payment_dropdown_id,onChange:this.handleInputOnChange,required:!0},r.a.createElement("option",{value:""},"Choose a Category"),c)),r.a.createElement("div",{className:"review-items-container"},r.a.createElement("h4",null,"Confirm Items"),i)),r.a.createElement("div",{className:"quick-order-container"},r.a.createElement("div",{className:"quick-order-box"},r.a.createElement("div",{className:"order-price-info-container"},r.a.createElement("h4",null,"Order Summary"),r.a.createElement("div",{className:"order-items-price-box"},r.a.createElement("div",null,"Items (",n,") :"),r.a.createElement("div",null,"$",parseFloat(t).toFixed(2))),r.a.createElement("div",{className:"order-items-shipping-box"},r.a.createElement("div",null,"Cost of Shipping :"),r.a.createElement("div",{className:"order-shipping-price"},"$",parseFloat(a).toFixed(2))),r.a.createElement("div",{className:"order-items-before-tax-box"},r.a.createElement("div",null,"Total before tax :"),r.a.createElement("div",{className:"order-shipping-price"},"$",parseFloat(o).toFixed(2))),r.a.createElement("div",{className:"order-items-estimated-tax-box"},r.a.createElement("div",null,"Estimated Tax :"),r.a.createElement("div",{className:"order-shipping-price"},"$",l)),r.a.createElement("div",{className:"order-items-total-price-box"},r.a.createElement("div",null,"Total Price :"),r.a.createElement("div",{className:"order-shipping-price"},"$",u))),r.a.createElement("div",{id:"place-order-button-box"},r.a.createElement(ie.b,{to:"/"},r.a.createElement("button",{onClick:this.createOrder,id:"place-order-button"},"Place Your Order")))))))}}]),t}(n.Component)),At=Object(p.b)(function(e){return{currentUser:e.userReducer.user,threads:e.itemReducer.threads,cart_items:e.itemReducer.cart_items,shipping:e.itemReducer.shipping,payments:e.itemReducer.payments,shippingPrimary:e.itemReducer.shippingPrimary}},function(e){return{grabUserCart:function(){e(X())},grabShipping:function(){e(function(e){return fetch("/api/shipping").then(function(e){return e.json()}).then(function(t){return console.log("shipping",t),e({type:H,payload:t})}).catch(function(e){console.log(e)})})},grabShippingPrimary:function(){e(function(e){return fetch("/api/shipping").then(function(e){return e.json()}).then(function(t){var a=t.filter(function(e){return!0===e.primary});return e({type:z,payload:a})}).catch(function(e){console.log(e)})})},grabPayments:function(){e(function(e){return fetch("/api/payments").then(function(e){return e.json()}).then(function(t){return console.log("payments",t),e({type:$,payload:t})}).catch(function(e){console.log(e)})})},postNewOrder:function(t){e(function(e){return function(t){return fetch("/api/orders",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).catch(function(e){console.log("Error in logout: ",e)})}}(t))}}})(Tt),Rt=(a(299),a(300),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={newCategory:""},a.handleCategoryInput=a.handleCategoryInput.bind(Object(pe.a)(a)),a.handleSubcategoryInput=a.handleSubcategoryInput.bind(Object(pe.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleCategoryInput",value:function(e){e.preventDefault();var t=e.target.value;this.setState({newCategory:t})}},{key:"handleSubcategoryInput",value:function(e){e.preventDefault();var t=e.target.value;this.setState(Object(de.a)({},"".concat(e.target.name),t))}},{key:"handleSubmit",value:function(e){e.preventDefault();for(var t={category_name:this.state.newCategory},a=[],n=1;n<6;n++){var r="subCategory".concat(n);this.state.hasOwnProperty(r)&&this.state[r]&&a.push({sub_category_name:this.state[r]})}return a.length&&(t.sub_categories=a),this.props.addCategory(t),this.props.reload(),this.setState({newCategory:"",subCategory1:"",subCategory2:"",subCategory3:"",subCategory4:"",subCategory5:""})}},{key:"render",value:function(){var e=this.state.newCategory.length>2&&this.state.newCategory.length<21;return r.a.createElement("form",{className:"new-category-form"},r.a.createElement("div",{className:"category-form-div"},r.a.createElement("label",{for:"newCategory"},"Category Name"),r.a.createElement("br",null),r.a.createElement("input",{name:"newCategory",value:this.state.newCategory,placeholder:"category name",onChange:this.handleCategoryInput,minlength:"2",maxlength:"20"})),r.a.createElement("div",{className:"category-form-div"},r.a.createElement("label",{for:"subCategories"},"Add Up to 5 Subcategories (optional)"),r.a.createElement("br",null),r.a.createElement("input",{name:"subCategory1",value:this.state.subCategory1,placeholder:"subcategory 1",onChange:this.handleSubcategoryInput,minlength:"2",maxlength:"20"}),r.a.createElement("input",{name:"subCategory2",value:this.state.subCategory2,placeholder:"subcategory 2",onChange:this.handleSubcategoryInput,minlength:"2",maxlength:"20"}),r.a.createElement("input",{name:"subCategory3",value:this.state.subCategory3,placeholder:"subcategory 3",onChange:this.handleSubcategoryInput,minlength:"2",maxlength:"20"}),r.a.createElement("input",{name:"subCategory4",value:this.state.subCategory4,placeholder:"subcategory 4",onChange:this.handleSubcategoryInput,minlength:"2",maxlength:"20"}),r.a.createElement("input",{name:"subCategory5",value:this.state.subCategory5,placeholder:"subcategory 5",onChange:this.handleSubcategoryInput,minlength:"2",maxlength:"20"})),r.a.createElement("div",{className:"submit-div"},r.a.createElement("button",{type:"submit",disabled:!e,onClick:this.handleSubmit},"Submit")))}}]),t}(n.Component)),Pt=Rt=Object(p.b)(function(e){return{}},function(e){return{addCategory:function(t){return e(function(e){return function(t){return fetch("/api/categories",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:D,payload:e})}).catch(function(e){console.log("error",e)})}}(t))}}})(Rt),xt=(a(301),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={category_id:0,subCategory1:""},a.handleInputOnChange=a.handleInputOnChange.bind(Object(pe.a)(a)),a.handleSubcategoryInput=a.handleSubcategoryInput.bind(Object(pe.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInputOnChange",value:function(e){var t=e.target.value,a=e.target.name;return this.setState(Object(de.a)({},a,t))}},{key:"handleSubcategoryInput",value:function(e){e.preventDefault();var t=e.target.value;this.setState(Object(de.a)({},"".concat(e.target.name),t))}},{key:"handleSubmit",value:function(e){e.preventDefault();for(var t={},a=[],n=1;n<6;n++){var r="subCategory".concat(n);this.state.hasOwnProperty(r)&&this.state[r]&&a.push({sub_category_name:this.state[r],category_id:this.state.category_id})}return a.length&&(t.sub_categories=a),this.props.addSubcategory(t),this.props.reload(),this.setState({category_id:0,subCategory1:"",subCategory2:"",subCategory3:"",subCategory4:"",subCategory5:""})}},{key:"generateCategorySelect",value:function(e){var t=e.map(function(e){return r.a.createElement("option",{className:"select-selected",value:e.id},e.category_name)});return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{name:"category_id",className:"custom-select",onChange:this.handleInputOnChange},r.a.createElement("option",null,"Select Category"),t))}},{key:"render",value:function(){var e=this.generateCategorySelect(this.props.categories),t=this.state.category_id>0&&this.state.subCategory1.length>0;return r.a.createElement("div",{className:"custom-select"},r.a.createElement("form",{className:"subcategory-form"},e,r.a.createElement("div",{className:"category-form-div"},r.a.createElement("label",{for:"subCategories"},"Add Up to 5 Subcategories"),r.a.createElement("br",null),r.a.createElement("input",{name:"subCategory1",value:this.state.subCategory1,placeholder:"subcategory 1",onChange:this.handleSubcategoryInput,minlength:"2",maxlength:"20"}),r.a.createElement("input",{name:"subCategory2",value:this.state.subCategory2,placeholder:"subcategory 2",onChange:this.handleSubcategoryInput,minlength:"2",maxlength:"20"}),r.a.createElement("input",{name:"subCategory3",value:this.state.subCategory3,placeholder:"subcategory 3",onChange:this.handleSubcategoryInput,minlength:"2",maxlength:"20"}),r.a.createElement("input",{name:"subCategory4",value:this.state.subCategory4,placeholder:"subcategory 4",onChange:this.handleSubcategoryInput,minlength:"2",maxlength:"20"}),r.a.createElement("input",{name:"subCategory5",value:this.state.subCategory5,placeholder:"subcategory 5",onChange:this.handleSubcategoryInput,minlength:"2",maxlength:"20"})),r.a.createElement("div",{className:"submit-div"},r.a.createElement("button",{type:"submit",disabled:!t,onClick:this.handleSubmit},"Submit"))))}}]),t}(n.Component)),Mt=xt=Object(p.b)(function(e){return{}},function(e){return{addSubcategory:function(t){return e(function(e){return function(t){return fetch("/api/categories/subcategories",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t({type:T,payload:e})}).catch(function(e){console.log("error",e)})}}(t))}}})(xt),Ft=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={selectedCategory:"",clicked:"not-clicked",subCategories:"",displayAddCategory:"hide-div",displayAddSubcategory:"hide-div"},a.handleSelectCategory=a.handleSelectCategory.bind(Object(pe.a)(a)),a.handleAdd=a.handleAdd.bind(Object(pe.a)(a)),a.reloadOnSubmit=a.reloadOnSubmit.bind(Object(pe.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return this.props.loadCategories()}},{key:"reloadOnSubmit",value:function(){return this.props.loadCategories()}},{key:"displaySubCat",value:function(e,t){var a=t.filter(function(t){return t.category_name===e});this.setState({subCategories:a[0].sub_categories})}},{key:"handleSelectCategory",value:function(e){return e.preventDefault(),this.setState({selectedCategory:e.currentTarget.value}),this.displaySubCat(e.currentTarget.value,this.props.categories)}},{key:"handleAdd",value:function(e){e.preventDefault(),"displayAddSubcategory"===e.currentTarget.name?"hide-div"===this.state.displayAddSubcategory?this.setState({displayAddSubcategory:"display-div",displayAddCategory:"hide-div"}):this.setState({displayAddSubcategory:"hide-div",displayAddCategory:"hide-div"}):"hide-div"===this.state.displayAddCategory?this.setState({displayAddSubcategory:"hide-div",displayAddCategory:"display-div"}):this.setState({displayAddSubcategory:"hide-div",displayAddCategory:"hide-div"})}},{key:"render",value:function(){var e=this,t=this.props.categories.map(function(t,a){return r.a.createElement("button",{value:t.category_name,onClick:e.handleSelectCategory},r.a.createElement("h2",null,t.category_name))}),a="";return this.state.subCategories&&(a=this.state.subCategories.map(function(e,t){return r.a.createElement("h3",null,e.sub_category_name)})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"category-container"},r.a.createElement("h1",null," All Categories "),r.a.createElement("div",{className:"admin-categories"},r.a.createElement("div",{className:"sub-div"},r.a.createElement("button",{name:"displayAddCategory",onClick:this.handleAdd},r.a.createElement("h3",null,"+ Category")),r.a.createElement("div",{className:this.state.displayAddCategory},r.a.createElement(Pt,{reload:this.reloadOnSubmit})),r.a.createElement("button",{name:"displayAddSubcategory",onClick:this.handleAdd},r.a.createElement("h3",null,"+ Subcategory")),r.a.createElement("div",{className:this.state.displayAddSubcategory},r.a.createElement(Mt,{categories:this.props.categories,reload:this.reloadOnSubmit}))),r.a.createElement("div",{className:"sub-div"},r.a.createElement("h1",null,"Categories"),r.a.createElement("br",null),t),r.a.createElement("div",{className:"sub-div"},r.a.createElement("h1",null,this.state.selectedCategory," Subcategories"),r.a.createElement("br",null),a))))}}]),t}(n.Component),Lt=Ft=Object(p.b)(function(e){return{categories:e.itemReducer.categories}},function(e){return{loadCategories:function(){return e(re())}}})(Ft),Bt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null),r.a.createElement("div",{className:"main"},r.a.createElement(Ye,{currentUser:this.props.currentUser}),r.a.createElement("div",{className:"page"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:me}),r.a.createElement(d.b,{path:"/Register",render:function(e){return r.a.createElement(Se,e)}}),r.a.createElement(d.b,{path:"/login",component:ke}),r.a.createElement(d.b,{path:"/search-results",component:Ce}),r.a.createElement(d.b,{path:"/add-item",component:xe}),r.a.createElement(d.b,{path:"/edit-item/:id",component:qe}),r.a.createElement(d.b,{path:"/messages/:id",component:$e}),r.a.createElement(d.b,{path:"/profiles/settings",component:vt}),r.a.createElement(d.b,{path:"/profiles/:id/deactivate",component:Nt}),r.a.createElement(d.b,{path:"/profiles/:id",component:Xe}),r.a.createElement(d.b,{path:"/users/:id/items",component:gt}),r.a.createElement(d.b,{path:"/items/category/:category",component:Ze}),r.a.createElement(d.b,{path:"/items/:id",component:at}),r.a.createElement(d.b,{path:"/not-authorized",component:ct}),r.a.createElement(d.b,{path:"/add-thread",component:Ct}),r.a.createElement(d.b,{path:"/messages",component:$e}),r.a.createElement(d.b,{path:"/conversation/:id",component:Ot}),r.a.createElement(d.b,{path:"/admin-categories",component:Lt}),r.a.createElement(d.b,{path:"/admin-items",component:wt}),r.a.createElement(d.b,{path:"/admin-users",component:st}),r.a.createElement(d.b,{path:"/cart",component:Dt}),r.a.createElement(d.b,{path:"/checkout",component:At})))),r.a.createElement(et,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Yt=a(12),Gt=a(25),qt={searchResults:[],item:{},allActiveItems:[],items:[],images:[],newestItem:"",threads:[],messages:[],categories:[],itemsByCategory:[],userList:[],activeItems:[],inactiveItems:[],username:"",chosen_category:"",chosen_subcategory:"",cart_items:[],shipping:[],payments:[],shippingPrimary:[],newCategory:"",newSubcategory:""},Vt={registrationSuccessful:!1,loggedIn:!1,user:JSON.parse(localStorage.getItem("user")),passwordUpdateStatus:!1,updatedUser:{}};var Jt=Object(Gt.c)({itemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object.assign({},e,{searchResults:Object(Yt.a)(t.payload)});case y:return Object.assign({},e,{items:Object(Yt.a)(t.payload)});case O:return Object.assign({},e,{allActiveItems:Object(Yt.a)(t.payload)});case _:return Object.assign({},e,{item:t.payload});case j:return Object.assign({},e,{activeItems:t.payload});case C:return Object.assign({},e,{inactiveItems:t.payload});case N:return Object.assign({},e,{images:Object(Yt.a)(t.payload)});case S:return Object.assign({},e,{newestItem:t.payload});case I:return Object.assign({},e,{newestItem:""});case U:return Object.assign({},e,{categories:Object(Yt.a)(t.payload)});case w:return Object.assign({},e,{itemsByCategory:Object(Yt.a)(t.payload)});case D:return Object.assign({},e,{newCategory:[t.payload]});case T:return Object.assign({},e,{newSubcategory:[t.payload]});case k:return Object.assign({},e,{newestItem:""});case A:return Object.assign({},e,{threads:Object(Yt.a)(t.payload)});case R:case P:return Object.assign({},e,{messages:Object(Yt.a)(t.payload)});case x:return Object.assign({},e,{userList:Object(Yt.a)(t.payload)});case M:return Object.assign({},e,{username:t.payload});case G:return Object.assign({},e,{chosen_category:t.payload});case q:return Object.assign({},e,{chosen_subcategory:t.payload});case V:case J:return Object.assign({},e,{cart_items:Object(Yt.a)(t.payload)});case Q:return Object.assign({},e,{item:t.payload});case H:return Object.assign({},e,{shipping:Object(Yt.a)(t.payload)});case z:return Object.assign({},e,{shippingPrimary:Object(Yt.a)(t.payload)});case $:return Object.assign({},e,{payments:Object(Yt.a)(t.payload)});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object.assign({},e,{registrationSuccessful:!0});case b:return Object.assign({},e,{loggedIn:!0,user:t.payload});case g:case f:return Object.assign({},e,{loggedIn:!1,user:null});case v:return Object.assign({},e);case L:return Object.assign({},e,{passwordUpdateStatus:[t.payload]});case F:return Object.assign({},e,{user:t.payload});case B:case Y:case W:return Object.assign({},e,{updatedUser:t.payload});default:return e}}}),Ht=a(109),$t=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Gt.d,Object(Gt.e)(Jt,Object(Gt.a)(Ht.a))),zt=r.a.createElement(p.a,{store:$t},r.a.createElement(ie.a,null,r.a.createElement(Bt,null)));s.a.render(zt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[110,1,2]]]);
//# sourceMappingURL=main.8b1800bb.chunk.js.map